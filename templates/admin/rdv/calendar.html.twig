{% extends 'base.html.twig' %}

{% block robots %}noindex, nofollow{% endblock %}
{% block nav %}{{ include('components/_nav_bar_aside.html.twig') }}{% endblock %}
{% block title %}Calendrier des rendez-vous à venir{% endblock %}

{% block scriptCalendar %}
<script src='https://cdn.jsdelivr.net/npm/fullcalendar@6.1.18/index.global.min.js'></script>
<script>
document.addEventListener('DOMContentLoaded', function() {
    var calendarEl = document.getElementById('calendar');
    var eventsData = {{ events|json_encode|raw }};
    if (typeof eventsData !== 'object') {
        eventsData = [];
    }
    var calendar = new FullCalendar.Calendar(calendarEl, {
    initialView: 'dayGridWeek',
    locale: 'fr', 
    events: eventsData,
    buttonText: {
        today:    'Aujourd\'hui',
    }
    });
    calendar.render();
});
    </script>
{% endblock %}

{% block body %}
<main class="main-admin">
    <h1>Rendez-vous à venir</h1>
        <div id="calendar"></div>
</main>
{% endblock %}
