{% extends 'base.html.twig' %}

{% block title %}Voiture d'occasion{% endblock %}

{% block body %}
    {# <figure
        <img src="" alt="">Photo du parc d'occasion
    </figure> #}

    <h1>Notre parc automobile</h1>

    <div class="voiture-list">
        {% for voiture in voList %}
            <div class="voiture-item">
                {% if voiture.photos %}   
                <div id="carouselVO{{ loop.index }}" class="carousel slide" data-bs-ride="carousel">
                    <div class="carousel-inner">
                        {% for photo in voiture.photos %}
                            <div class="carousel-item {% if loop.first %}active{% endif %}">
                                <img src="{{ asset('uploads/vo/' ~  photo.img) }}" class="d-block w-100" alt="Image de la voiture {{ voiture.marque }} {{ voiture.modele }}">
                            </div>
                    {% endfor %}
                        </div>
                        <button class="carousel-control-prev" type="button" data-bs-target="#carouselVO{{ loop.index }}" data-bs-slide="prev">
                            <span class="carousel-control-prev-icon"></span>
                        </button>
                        <button class="carousel-control-next" type="button" data-bs-target="#carouselVO{{ loop.index }}" data-bs-slide="next">
                            <span class="carousel-control-next-icon"></span>
                        </button>
                    </div>
                {% endif %}
                    <h2>{{ voiture.marque }} {{ voiture.modele }}</h2>
                {% if voiture.km %}
                        <p>Kilométrage: {{ voiture.km }} km</p>
                {% endif %}
                {% if voiture.carburant %}
                    <p>Carburant: {{ voiture.carburant }}</p>
                {% endif %}
                {% if voiture.anneeFabrication %}
                    <p>Année: {{ voiture.anneeFabrication|date("m/Y") }}</p>
                {% endif %}
                    <p>{{ voiture.description }}</p>
                {% if voiture.url %}
                    <a target="_blank" href="{{ voiture.url }}">En savoir plus</a>
                {% else %}
                   <p>Veuillez nous contacter pour plus de renseignement</p>     
                {% endif %}
                {% if voiture.prix %}
                    <p>Prix: {{ voiture.prix }}</p>
                {% endif %}
                {# if admin #}
                <a href="{{ path('edit_vo', {'id': voiture.id}) }}">Modifier</a>
                {# <a href="{{ path('delete_vo', {'id': voiture.id}) }}">Supprimer</a> #}
                {# endif #}
            </div>
        {% else %}
            <p>Aucune voiture d'occasion disponible pour le moment.</p>
        {% endfor %}
    </div>
{% endblock %}
